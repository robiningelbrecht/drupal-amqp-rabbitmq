services:
  Symfony\Component\Console\Output\OutputInterface:
    class: 'Symfony\Component\Console\Output\ConsoleOutput'

  Drupal\amqp\ConsoleLogger:
    autowire: true

  Drupal\amqp\AMQPStreamConnectionFactory:
    autowire: true
    arguments:
      - '@settings'

  Drupal\amqp\AMQPChannelFactory:
    autowire: true

  Drupal\amqp\Consumer:
    autowire: true

  Drupal\amqp\Clock\Clock:
    class: 'Drupal\amqp\Clock\SystemClock'
    autowire: true

  Drupal\amqp\Worker\SimpleQueueWorker:
    autowire: true

  Drupal\amqp\Queue\QueueFactory:
    autowire: true
    tags:
      - { name: service_collector, tag: amqp_queue, call: registerQueue }

  Drupal\amqp\Queue\SimpleQueue:
    autowire: true
    tags:
      - { name: amqp_queue }
