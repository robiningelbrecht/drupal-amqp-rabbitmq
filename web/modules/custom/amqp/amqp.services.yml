services:
  Drupal\amqp\ConsoleLogger:
    factory: 'Drupal\amqp\ConsoleLogger::create'

  Drupal\amqp\AMQPStreamConnectionFactory:
    autowire: true
    arguments:
      - '@settings'

  Drupal\amqp\AMQPChannelFactory:
    autowire: true

  Drupal\amqp\Consumer:
    autowire: true

  Drupal\amqp\Worker\SimpleQueueWorker:
    autowire: true

  Drupal\amqp\Queue\QueueFactory:
    autowire: true
    tags:
      - { name: service_collector, tag: amqp_queue, call: registerQueue }

  Drupal\amqp\Queue\SimpleQueue:
    autowire: true
    tags:
      - { name: amqp_queue }
