services:
  Drupal\amqp\ConsoleLog:
    autowire: true

  amqp.connection:
    class: '\PhpAmqpLib\Connection\AMQPStreamConnection'
    arguments:
      - '172.21.0.5'
      - '5672'
      - 'guest'
      - 'guest'
      - '/'

  Drupal\amqp\AMQPChannelFactory:
    arguments:
      - '@amqp.connection'

  Drupal\amqp\Consumer:
    autowire: true
    arguments:
      - '@amqp.connection'

  Drupal\amqp\Queue:
    autowire: true
